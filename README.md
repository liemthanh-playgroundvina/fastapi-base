# Fastapi Base
## Installation dev
Create secret key:
```
openssl rand -hex 32
$ cp env.example .env       // Update
```
Run:
```

```

## Project structure
```
.  
├── alembic  
│   ├── versions    // migration files
│   └── env.py  
├── app  
│   ├── api         // api
│   ├── core        // file config load ,env & function verify JWT access-token  
│   ├── db          // DB session config
│   ├── helpers     // Helper function login_manager, paging  
│   ├── models      // Database model
│   ├── schemas     // Pydantic Schema  
│   ├── services    // CRUD 
│   └── main.py     // Project main
├── tests  
│   ├── api         // api test
│   ├── faker       // faker data
│   ├── .env        // config DB test  
│   └── conftest.py // pytest config 
├── .gitignore  
├── alembic.ini  
├── docker-compose.yaml  
├── Dockerfile  
├── env.example  
├── logging.ini     // logging  
├── postgresql.conf // postgresql use when run docker-compose  
├── pytest.ini      // pytest file setup   
├── README.md  
└── requirements.txt    // libs
```

## Migration

**File migration - SAMPLE**
```
# alembic/versions/f9a075ca46e9_.py

...
def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('user',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('full_name', sa.String(), nullable=True),
    sa.Column('email', sa.String(), nullable=True),
    sa.Column('hashed_password', sa.String(length=255), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_email'), 'user', ['email'], unique=True)
    op.create_index(op.f('ix_user_full_name'), 'user', ['full_name'], unique=False)
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_user_full_name'), table_name='user')
    op.drop_index(op.f('ix_user_email'), table_name='user')
    op.drop_table('user')
    # ### end Alembic commands ###
...
```

## Guide: Create model and migration
Link [CREATE_DB_GUIDE.md](alembic/CREATE_DB_GUIDE.md)